#! /usr/bin/env ruby

$LOAD_PATH << File.expand_path("../../lib", __FILE__)

require "aws-sdk-resources"
require "clamp"

$stdout.sync = true
$stderr.sync = true

Clamp do

  subcommand "ec2", "EC2 stuff" do

    subcommand "instances", "list instances" do

      def execute
        ec2.instances.each do |i|
          puts i.instance_id
        end
      end

    end

    def ec2
      ::Aws::EC2::Resource.new
    end

  end

end
